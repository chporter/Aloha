PROJ = PIALO980
PROJFILE = PIALO980.MAK
DEBUG = 0

PWBRMAKE  = pwbrmake
NMAKEBSC1  = set
NMAKEBSC2  = nmake
CC  = cl
CFLAGS_G  = /BATCH
CFLAGS_D  = /Gi$(PROJ).mdt /Zi /Od
CFLAGS_R  = /Ot
FOR  = fl
FORFLAGS_R  = /Ot
FORFLAGS_D  = /Zi /Od
MAPFILE_D  = NUL
MAPFILE_R  = NUL
LFLAGS_G  = /NOI /BATCH
LFLAGS_D  = /FAR /PACKC /SE:170 /STACK:2048 /INFO
LFLAGS_R  = /EXE /FAR /PACKC /SE:170 /STACK:2048 /INFO
LINKER	= link
ILINK  = ilink
LRF  = echo > NUL

OBJS  = AUTHAR.obj AUTPLT.obj DATES.obj ERROR.obj FPLACE.obj GROSUB.obj\
	HMET.obj HTHETA.obj INPHEN.obj INPLNT.obj INRES.obj INSEQ.obj\
	INSOIL.obj INSOILT.obj IPCROP.obj IPIBS.obj IPPARM.obj IPPROG.obj\
	IPSOIL.obj IPWTH.obj IRRIG.obj MRUN.obj NBAL.obj NFACTO.obj NFLUX.obj\
	NTRANS.obj NUPTAK.obj OPDAY.obj OPDONE.obj OPHARV.obj OPOPS.obj\
	OPSEQ.obj PET.obj PHASEI.obj PHENOL.obj PINE.obj READS.obj ROOTGR.obj\
	RPLACE.obj SOILNI.obj SOILT.obj SOLAR.obj SUMWTH.obj TRATIO.obj\
	UTILS.obj WATBAL.obj WBAL.obj WBSUBS.obj WEATHR.obj WGEN.obj\
	WTHMOD.obj
SBRS  = AUTHAR.sbr AUTPLT.sbr DATES.sbr ERROR.sbr FPLACE.sbr GROSUB.sbr\
	HMET.sbr HTHETA.sbr INPHEN.sbr INPLNT.sbr INRES.sbr INSEQ.sbr\
	INSOIL.sbr INSOILT.sbr IPCROP.sbr IPIBS.sbr IPPARM.sbr IPPROG.sbr\
	IPSOIL.sbr IPWTH.sbr IRRIG.sbr MRUN.sbr NBAL.sbr NFACTO.sbr NFLUX.sbr\
	NTRANS.sbr NUPTAK.sbr OPDAY.sbr OPDONE.sbr OPHARV.sbr OPOPS.sbr\
	OPSEQ.sbr PET.sbr PHASEI.sbr PHENOL.sbr PINE.sbr READS.sbr ROOTGR.sbr\
	RPLACE.sbr SOILNI.sbr SOILT.sbr SOLAR.sbr SUMWTH.sbr TRATIO.sbr\
	UTILS.sbr WATBAL.sbr WBAL.sbr WBSUBS.sbr WEATHR.sbr WGEN.sbr\
	WTHMOD.sbr

all: $(PROJ).exe

.SUFFIXES:
.SUFFIXES: .obj .sbr .for

AUTHAR.obj : AUTHAR.FOR

AUTHAR.sbr : AUTHAR.FOR

AUTPLT.obj : AUTPLT.FOR

AUTPLT.sbr : AUTPLT.FOR

DATES.obj : DATES.FOR

DATES.sbr : DATES.FOR

ERROR.obj : ERROR.FOR

ERROR.sbr : ERROR.FOR

FPLACE.obj : FPLACE.FOR NTRC1.BLK NTRC2.BLK

FPLACE.sbr : FPLACE.FOR NTRC1.BLK NTRC2.BLK

GROSUB.obj : GROSUB.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK

GROSUB.sbr : GROSUB.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK

HMET.obj : HMET.FOR

HMET.sbr : HMET.FOR

HTHETA.obj : HTHETA.FOR

HTHETA.sbr : HTHETA.FOR

INPHEN.obj : INPHEN.FOR GEN2.BLK GEN4.BLK

INPHEN.sbr : INPHEN.FOR GEN2.BLK GEN4.BLK

INPLNT.obj : INPLNT.FOR GEN3.BLK GEN4.BLK NTRC1.BLK PREDOB.BLK

INPLNT.sbr : INPLNT.FOR GEN3.BLK GEN4.BLK NTRC1.BLK PREDOB.BLK

INRES.obj : INRES.FOR

INRES.sbr : INRES.FOR

INSEQ.obj : INSEQ.FOR

INSEQ.sbr : INSEQ.FOR

INSOIL.obj : INSOIL.FOR GEN3.BLK

INSOIL.sbr : INSOIL.FOR GEN3.BLK

INSOILT.obj : INSOILT.FOR

INSOILT.sbr : INSOILT.FOR

IPCROP.obj : IPCROP.FOR GEN2.BLK GEN3.BLK

IPCROP.sbr : IPCROP.FOR GEN2.BLK GEN3.BLK

IPIBS.obj : IPIBS.FOR SWITCH.BLK GEN1.BLK GEN2.BLK GEN3.BLK NTRC1.BLK NTRC2.BLK

IPIBS.sbr : IPIBS.FOR SWITCH.BLK GEN1.BLK GEN2.BLK GEN3.BLK NTRC1.BLK NTRC2.BLK

IPPARM.obj : IPPARM.FOR PEST.BLK

IPPARM.sbr : IPPARM.FOR PEST.BLK

IPPROG.obj : IPPROG.FOR PEST.BLK

IPPROG.sbr : IPPROG.FOR PEST.BLK

IPSOIL.obj : IPSOIL.FOR NTRC1.BLK NTRC2.BLK

IPSOIL.sbr : IPSOIL.FOR NTRC1.BLK NTRC2.BLK

IPWTH.obj : IPWTH.FOR

IPWTH.sbr : IPWTH.FOR

IRRIG.obj : IRRIG.FOR

IRRIG.sbr : IRRIG.FOR

MRUN.obj : MRUN.FOR

MRUN.sbr : MRUN.FOR

NBAL.obj : NBAL.FOR

NBAL.sbr : NBAL.FOR

NFACTO.obj : NFACTO.FOR GEN2.BLK NTRC1.BLK

NFACTO.sbr : NFACTO.FOR GEN2.BLK NTRC1.BLK

NFLUX.obj : NFLUX.FOR

NFLUX.sbr : NFLUX.FOR

NTRANS.obj : NTRANS.FOR NTRC1.BLK NTRC2.BLK

NTRANS.sbr : NTRANS.FOR NTRC1.BLK NTRC2.BLK

NUPTAK.obj : NUPTAK.FOR GEN1.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK

NUPTAK.sbr : NUPTAK.FOR GEN1.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK

OPDAY.obj : OPDAY.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK\
	PREDOB.BLK SWITCH.BLK PEST.BLK PHOS.BLK

OPDAY.sbr : OPDAY.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK\
	PREDOB.BLK SWITCH.BLK PEST.BLK PHOS.BLK

OPDONE.obj : OPDONE.FOR SWITCH.BLK

OPDONE.sbr : OPDONE.FOR SWITCH.BLK

OPHARV.obj : OPHARV.FOR SWITCH.BLK COWTH.BLK XFIELD.BLK

OPHARV.sbr : OPHARV.FOR SWITCH.BLK COWTH.BLK XFIELD.BLK

OPOPS.obj : OPOPS.FOR

OPOPS.sbr : OPOPS.FOR

OPSEQ.obj : OPSEQ.FOR

OPSEQ.sbr : OPSEQ.FOR

PET.obj : PET.FOR

PET.sbr : PET.FOR

PHASEI.obj : PHASEI.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK

PHASEI.sbr : PHASEI.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK

PHENOL.obj : PHENOL.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK\
	PREDOB.BLK SWITCH.BLK

PHENOL.sbr : PHENOL.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK\
	PREDOB.BLK SWITCH.BLK

PINE.obj : PINE.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK\
	PREDOB.BLK SWITCH.BLK

PINE.sbr : PINE.FOR GEN1.BLK GEN2.BLK GEN3.BLK GEN4.BLK NTRC1.BLK NTRC2.BLK\
	PREDOB.BLK SWITCH.BLK

READS.obj : READS.FOR

READS.sbr : READS.FOR

ROOTGR.obj : ROOTGR.FOR GEN1.BLK GEN2.BLK GEN3.BLK NTRC2.BLK

ROOTGR.sbr : ROOTGR.FOR GEN1.BLK GEN2.BLK GEN3.BLK NTRC2.BLK

RPLACE.obj : RPLACE.FOR NTRC1.BLK NTRC2.BLK

RPLACE.sbr : RPLACE.FOR NTRC1.BLK NTRC2.BLK

SOILNI.obj : SOILNI.FOR

SOILNI.sbr : SOILNI.FOR

SOILT.obj : SOILT.FOR

SOILT.sbr : SOILT.FOR

SOLAR.obj : SOLAR.FOR

SOLAR.sbr : SOLAR.FOR

SUMWTH.obj : SUMWTH.FOR COWTH.BLK

SUMWTH.sbr : SUMWTH.FOR COWTH.BLK

TRATIO.obj : TRATIO.FOR

TRATIO.sbr : TRATIO.FOR

UTILS.obj : UTILS.FOR

UTILS.sbr : UTILS.FOR

WATBAL.obj : WATBAL.FOR GEN3.BLK GEN4.BLK NTRC2.BLK

WATBAL.sbr : WATBAL.FOR GEN3.BLK GEN4.BLK NTRC2.BLK

WBAL.obj : WBAL.FOR

WBAL.sbr : WBAL.FOR

WBSUBS.obj : WBSUBS.FOR

WBSUBS.sbr : WBSUBS.FOR

WEATHR.obj : WEATHR.FOR

WEATHR.sbr : WEATHR.FOR

WGEN.obj : WGEN.FOR

WGEN.sbr : WGEN.FOR

WTHMOD.obj : WTHMOD.FOR

WTHMOD.sbr : WTHMOD.FOR


$(PROJ).bsc : $(SBRS)
	$(PWBRMAKE) @<<
$(BRFLAGS) $(SBRS)
<<

$(PROJ).exe : $(OBJS)
!IF $(DEBUG)
	$(LRF) @<<$(PROJ).lrf
$(RT_OBJS: = +^
) $(OBJS: = +^
)
$@
$(MAPFILE_D)
$(LLIBS_G: = +^
) +
$(LLIBS_D: = +^
) +
$(LIBS: = +^
)
$(DEF_FILE) $(LFLAGS_G) $(LFLAGS_D);
<<
!ELSE
	$(LRF) @<<$(PROJ).lrf
$(RT_OBJS: = +^
) $(OBJS: = +^
)
$@
$(MAPFILE_R)
$(LLIBS_G: = +^
) +
$(LLIBS_R: = +^
) +
$(LIBS: = +^
)
$(DEF_FILE) $(LFLAGS_G) $(LFLAGS_R);
<<
!ENDIF
	$(LINKER) @$(PROJ).lrf


.for.obj :
!IF $(DEBUG)
	$(FOR) /c $(FORFLAGS_G) $(FORFLAGS_D) /Fo$@ $<
!ELSE
	$(FOR) /c $(FORFLAGS_G) $(FORFLAGS_R) /Fo$@ $<
!ENDIF

.for.sbr :
!IF $(DEBUG)
	$(FOR) /Zs $(FORFLAGS_G) $(FORFLAGS_D) /FR$@ $<
!ELSE
	$(FOR) /Zs $(FORFLAGS_G) $(FORFLAGS_R) /FR$@ $<
!ENDIF


run: $(PROJ).exe
	$(PROJ).exe $(RUNFLAGS)

debug: $(PROJ).exe
	CV $(CVFLAGS) $(PROJ).exe $(RUNFLAGS)
